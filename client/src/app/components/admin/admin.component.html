<div class="admin-panel">
    <aside></aside>
    <div class="container">

        <div class="add-category">
            <h2>Add Category</h2>
            <label>Name:</label>
            &nbsp;
            <input type="text" [(ngModel)]="newCategory">
            &nbsp;&nbsp;&nbsp;
            <button (click)="addCategory()">Add Category</button>
        </div>
        <div class="add-product">

            <h2>Add Product</h2>

            <table>
                <tbody>
                    <tr>
                        <td><label>Category:</label></td>
                        <td>
                            <select [(ngModel)]="newProduct.category">
                                <option disabled selected value="">Category</option>
                                <option *ngFor="let c of this.redux.getState().categories" [value]="c._id">{{c.name}}
                                </option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td><label>Name:</label></td>
                        <td><input [(ngModel)]="newProduct.name" type="text"></td>
                    </tr>
                    <tr>
                        <td><label>Price:</label></td>
                        <td><input [(ngModel)]="newProduct.price" type="number"></td>
                    </tr>
                    <tr>
                        <td><label>Image:</label></td>
                        <td><input (change)="setFile($event)" type="file"></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
            <br>
            <br>
            <button (click)="addProduct()">Add Product</button>
        </div>

        <div class="edit-product">
            <h2>Edit Product</h2>
            <span>*In order to maintain the old image keep file empty</span>
            <p>
                Category:
                <select [(ngModel)]="this.chosenCategory" (change)="categorySelected()">
                    <option disabled selected value="">Category</option>
                    <option *ngFor="let c of this.redux.getState().categories" [value]="c._id">{{c.name}}</option>
                </select>
            </p>
            <p>
                Product:
                <select [(ngModel)]="this.chosenProduct" (change)="productSelected()">
                    <option disabled selected>Product</option>
                    <option *ngFor="let p of this.productsToChose" [value]="p._id">{{p.name}}</option>
                </select>
            </p>
            <table>
                <tbody>
                    <tr>
                        <td><label>Category:</label></td>
                        <td>
                            <select [(ngModel)]="productToEdit.category">
                                <option disabled selected value="">Category</option>
                                <option *ngFor="let c of this.redux.getState().categories" [value]="c._id">{{c.name}}</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td><label>Name:</label></td>
                        <td><input [(ngModel)]="productToEdit.name" type="text"></td>
                    </tr>
                    <tr>
                        <td><label>Price:</label></td>
                        <td><input [(ngModel)]="productToEdit.price" type="number"></td>
                    </tr>
                    <tr>
                        <td><label>Image:</label></td>
                        <td><input (change)="setFile($event)" type="file"></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
            <br>
            <br>
            <button (click)="saveChanges()">Save Changes</button>
        </div>
    </div>
    <aside></aside>
</div>